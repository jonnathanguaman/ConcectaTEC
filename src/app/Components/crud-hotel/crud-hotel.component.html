<div class="crud-container">
    <h2>Gesti√≥n de Hoteles</h2>
    <form (submit)="onSubmit()" #formHotel="ngForm">
        <div class="input-container">
            <label for="id_hotel">ID Hotel:</label>
            <input
                type="number"
                id="id_hotel"
                [(ngModel)]="hotel.id_hotel"
                name="id_hotel"
                required
                #id_hotel="ngModel"
            />
            <div *ngIf="id_hotel.invalid && id_hotel.touched" class="message error">
                El ID es obligatorio.
            </div>
        </div>
        <div class="input-container">
            <label for="nombre">Nombre:</label>
            <input
                type="text"
                id="nombre"
                [(ngModel)]="hotel.nombre"
                name="nombre"
                required
                minlength="3"
                #nombre="ngModel"
            />
            <div *ngIf="nombre.invalid && nombre.touched" class="message error">
                El nombre es obligatorio y debe tener al menos 3 caracteres.
            </div>
        </div>
        <div class="input-container">
            <label for="descripcion">Descripci√≥n:</label>
            <textarea
                id="descripcion"
                [(ngModel)]="hotel.descripcion"
                name="descripcion"
                rows="4"
                required
                #descripcion="ngModel"
            ></textarea>
            <div *ngIf="descripcion.invalid && descripcion.touched" class="message error">
                La descripci√≥n es obligatoria.
            </div>
        </div>
        <div class="input-container">
            <label for="direccion">Direcci√≥n:</label>
            <input
                type="text"
                id="direccion"
                [(ngModel)]="hotel.direccion"
                name="direccion"
                required
                #direccion="ngModel"
            />
            <div *ngIf="direccion.invalid && direccion.touched" class="message error">
                La direcci√≥n es obligatoria.
            </div>
        </div>
        <div class="input-container">
            <label for="telefono">Tel√©fono:</label>
            <input
                type="text"
                id="telefono"
                [(ngModel)]="hotel.telefono"
                name="telefono"
                required
                #telefono="ngModel"
            />
            <div *ngIf="telefono.invalid && telefono.touched" class="message error">
                El tel√©fono es obligatorio.
            </div>
        </div>
        <div class="input-container">
            <label for="precio">Precio por noche:</label>
            <input
                type="number"
                id="precio"
                [(ngModel)]="hotel.precio"
                name="precio"
                required
                #precio="ngModel"
            />
            <div *ngIf="precio.invalid && precio.touched" class="message error">
                El precio es obligatorio.
            </div>
        </div>
        <div class="input-container">
            <label for="disponibilidad">Disponibilidad:</label>
            <input type="checkbox" id="disponibilidad" [(ngModel)]="hotel.disponibilidad" name="disponibilidad" />
        </div>
        <div class="input-container">
            <label for="imagen">Imagen:</label>
            <input type="file" id="imagen" (change)="onImageChange($event)" />
        </div>
        <div class="btn-container">
            <button class="btn-opcion" type="submit" [disabled]="formHotel.invalid">
                <span class="icon">‚úîÔ∏è</span> Guardar
            </button>
            <button class="btn-opcion" type="button" (click)="limpiarFormulario()">
                <span class="icon">üßπ</span> Limpiar
            </button>
        </div>
    </form>

    <div *ngIf="message" class="message success">{{ message }}</div>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Direcci√≥n</th>
                    <th>Tel√©fono</th>
                    <th>Descripci√≥n</th>
                    <th>Precio</th>
                    <th>Disponibilidad</th>
                    <th>Imagen</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let hotel of hoteles">
                    <td>{{ hotel.id_hotel }}</td>
                    <td>{{ hotel.nombre }}</td>
                    <td>{{ hotel.direccion }}</td>
                    <td>{{ hotel.telefono }}</td>
                    <td>{{ hotel.descripcion }}</td>
                    <td>{{ hotel.precio }}</td>
                    <td>{{ hotel.disponibilidad ? 'Disponible' : 'No disponible' }}</td>
                    <td><img [src]="hotel.imagen" alt="Imagen Hotel" /></td>
                    <td>
                        <button class="btn-opcion" (click)="editarHotel(hotel)">
                            <span class="icon">‚úèÔ∏è</span> Editar
                        </button>
                        <button class="btn-opcion" (click)="eliminarHotel(hotel.id_hotel)">
                            <span class="icon">‚ùå</span> Eliminar
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
